<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="warp"><title id="x-1">Warp</title><conbody id="x-2"><p id="warp1">As we have mentioned before, Yesod is built on the Web Application Interface (WAI), allowing it to run on any WAI backend. At the time of writing, the following backends are available:</p><ul id="x1"><li id="x2">Warp</li><li id="x3">FastCGI</li><li id="x4">SCGI</li><li id="x5">CGI</li><li id="x6">Webkit</li><li id="x7">Development server</li></ul><p id="warp2">The last two are not intended for production deployments. Of the remaining four, all
            can be used for production deployment in theory. In practice, a CGI backend will likely
            be horribly inefficient, since a new process must be spawned for each connection. And
            SCGI is not nearly as well supported by frontend web servers as Warp (via reverse
            proxying) or FastCGI.</p><p id="warp3">So between the two remaining choices, Warp gets a very strong recommendation because:</p><ul id="x8"><li id="x9">It is significantly faster.</li><li id="x10">Like FastCGI, it can run behind a frontend server like Nginx, using reverse HTTP proxy.</li><li id="x11">In addition, it is a fully capable server of its own accord, and can therefore be used without any frontend server.</li></ul>
        <p id="x-3">So that leaves one last question: should Warp run on its own, or via reverse proxy behind
            a frontend server? For most use cases, I recommend the latter, because:</p>
        <ul id="ul_lyw_tha_af">
            <li id="x-4">As fast as Warp is, it is still optimized as an application server, not a static
                file server.</li>
            <li id="x-5">Using Nginx, you can set up virtual hosting to serve your static contents from a
                separate domain. (It's possible to do this with Warp, but a bit more involved).</li>
            <li id="x-6">You can use Nginx as either a load balancer or a SSL proxy. (Though with
                    <apiname id="x-7">warp-tls</apiname> it's entirely possible to run an https site on Warp
                alone.)</li>
        </ul>
        <p id="x-8">So my final recommendation is: set up Nginx to reverse proxy to Warp.</p>
        <note id="x-9">A number of people in the Yesod community disagree with me here, and believe that the
            increased performance and decreased complexity of skipping the Nginx step make
            standalone Warp a better choice. Feel free to follow either approach, they are both
            perfectly valid.</note></conbody></concept>